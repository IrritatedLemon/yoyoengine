# Yoyo Engine (WIP)

My 2D Game Engine written in C, based off of SDL.

Provides most functionality you would expect from a modern game engine, including a visual editor, launcher, and build system.

The editor projects are setup in such a way that all of your game logic can be implemented in C, or you can forgo C entirely and use lua scripting for your game logic. There is nothing stopping you from using both.

This repository comes with most library dependencies, but you will need to install some of the external dependencies listed later in this readme.

![Drawing](https://github.com/Yoyolick/SCDG/assets/43967290/f98545d1-c4ba-419e-a674-da436f591d23)

## Documentation

I provide autogenerated documentation using doxygen [here](https://yoyolick.github.io/yoyoengine).
There are some custom pages explaining how to get up and running, also see some examples in the 'examples' directory of this repository.

## Notices

This section is temporary and will be used to denote any important facts I need to remember about the project.

- The coordinate system is non standard, north is -y, south is +y, east is +x, west is -x
- only text or png images can have their alpha modulated
- The engine is single threaded (except for audio)
- Logging is unavailable until the engine is initialized (SDL needs loaded before we can use it)
- THE LAUNCHER AND EDITOR TOOLCHAIN HAS ONLY BEEN TESTED ON LINUX. OPEN AN ISSUE IF YOU NEED WINDOWS SUPPORT.
- NOTE: make this section limitations and have a seperate notices
- DO NOT USE SPACES IN FILE NAMES, this will break a lot of the file operations especially in the editor, core might be fine though.

### editor

- zooming too far out really messes with the SDL line renderer, and you will see weird visual artifacts.

## Dependencies

> [!WARNING]  
> You will need all of the below dependencies installed, besides the **Core & Editor** dependencies, as they come preinstalled.

### Tooling

- A C compiler (gcc, clang, etc) (Mingw for cross compilation)
- [git](https://git-scm.com/)
- [cmake](https://cmake.org/)
- [make](https://www.gnu.org/software/make/)
- [python3](https://www.python.org/)
- [pip](https://pypi.org/project/pip/)

### Core & Editor

> [!NOTE]  
> All of these libraries are included in this repository, and do not need to be installed.

- [SDL2](https://www.libsdl.org/)
- [SDL2_image](https://www.libsdl.org/projects/SDL_image/)
- [SDL2_ttf](https://www.libsdl.org/projects/SDL_ttf/)
- [SDL2_mixer](https://www.libsdl.org/projects/SDL_mixer/)
- [uthash](https://github.com/troydhanson/uthash)
- [Nuklear](https://github.com/Immediate-Mode-UI/Nuklear)
- [jansson](https://github.com/akheron/jansson)

### Launcher / Project Manager

- [tkinter](https://docs.python.org/3/library/tkinter.html)
- [CustomTkinter](https://customtkinter.tomschimansky.com/)
- [CTkMessagebox](https://github.com/Akascape/CTkMessagebox)

## Documentation

## Launcher

There is a project manager and editor launcher in the "editor" directory. This is currently a work in progress and requires some python tkinter deps to be installed, but if you run it, it should function. It is currently only tested on linux.

You can create, delete, and launch projects through this easily.

## Editor

> [!WARNING]  
> The editor has only been tested on linux, and is incomplete. IT WILL PROBABLY NOT RUN ON WINDOWS!!!

The editor is currently being worked on as a visual scene editor and build manager.

## Core

The core engine is implemented in C, with a possible Cpython wrapper available later on. Extensive docs to the framework API will be linked here when complete.

## Plans

These plans are currently sorted in order of my anticipated completion.

- [X] Basic engine functionality (Audio, Rendering, Text, etc)
- [X] Nuklear UI integration
- [x] Entity Component System
- [X] Serialization
- [X] Visual Editor
- [ ] Implement native C scripting
- [ ] Lua Scripting API
- [ ] Collision detection
- [ ] Stabilize the core framework API
- [ ] Overhaul the Project Manager
- [ ] Example projects and tutorials
- [ ] Documentation website

Some features that aren't planned but I would like to implement eventually:

- [ ] Networking (Stretch for after 1.0)
- [ ] Implement a Cpython wrapper
- [ ] Bundling assets into production data files
- [ ] 3D rendering
- [ ] Mac support
- [ ] VR support?

## Tricks (Plugin/Module System)

Plugins are called "tricks". They live in subdirectories of the project folder `/tricks` and have a directory structure like this:

```txt
example/
├── include
│   └── example_header.h
├── lib
│   └── linux
│       └── libexamplelinkedlib.so
├── src
│   └── main.c
└── trick.yoyo
```

`trick.yoyo` contains the metadata for the trick, which is required to load it. It is a json file with the following structure:

```json
{
    "name":"example_trick",
    "description":"example trick",
    "author":"Ryan Zmuda",
    "version":"1.0"
}
```

any .c files in src will be compiled together, and by naming certain functions to match the engine callbcks you can interface with the exposed trick event system.

```c
#include <yoyoengine/yoyoengine.h>

void yoyo_trick_on_load(){
    /*
        runs when the trick is first mounted, which happens after all other init
    */
}

void yoyo_trick_on_unload(){
    /*
        runs when the trick is about to be unloaded, which is one of the
        first things to happen on engine shutdown
    */
}

void yoyo_trick_on_update(){
    /*
        runs once every ye_process_frame call, before the lua script
        callbacks and before rendering
    */
}
```

I dont feel like typing much more now but this is the basic idea of tricks.

## Credit

- The listed dependencies and Jojo's Bizarre Adventure for the bootup screen sound effect.
